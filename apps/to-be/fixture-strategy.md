# Fixtureæˆ¦ç•¥ æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆ

**ä½œæˆæ—¥**: 2025-12-26
**åŸºç¤ãƒ‡ãƒ¼ã‚¿**: table-usage-report.md, stg-database-analysis-report.md

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

### çµè«–: ãƒŸãƒ‹ãƒãƒ«Fixtureæˆ¦ç•¥ã‚’æ¨å¥¨

**å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ãªã„ç†ç”±**:
1. å·¨å¤§ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ150GBï¼‰ãŒé–‹ç™ºç’°å¢ƒã‚’åœ§è¿«
2. å€‹äººæƒ…å ±ãƒã‚¹ã‚­ãƒ³ã‚°ã®ã‚³ã‚¹ãƒˆ
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œé€Ÿåº¦ã®ä½ä¸‹

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:
- **ã‚³ã‚¢15ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã¿FixtureåŒ–** ï¼ˆè¡Œæ•°: 200-500ä»¶ã€ã‚µã‚¤ã‚º: < 2MBï¼‰
- ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã¯å®Œå…¨é™¤å¤–
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯å…¨ä»¶ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã¯10-50ä»¶ã‚µãƒ³ãƒ—ãƒ«

---

## FixtureåŒ–ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ï¼ˆå„ªå…ˆåº¦é †ï¼‰

### ğŸŸ¢ Phase 1: å¿…é ˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæœ€å„ªå…ˆï¼‰

#### PostgreSQL (dorapita.com)

| # | ãƒ†ãƒ¼ãƒ–ãƒ« | è¡Œæ•° | ã‚³ãƒ¼ãƒ‰å‚ç…§ | æœ€çµ‚æ›´æ–° | Fixtureè¡Œæ•° | PII |
|---|---------|------|-----------|---------|------------|-----|
| 1 | **recruits** | 19,487 | **194å›** | 2025-12-26 | **30ä»¶** | âœ… ä¼æ¥­æƒ…å ± |
| 2 | **entries** | 47,842 | **75å›** | 2025-12-17 | **50ä»¶** | âœ… å…¨PII |
| 3 | **companies** | 2,425 | **53å›** | 2025-12-26 | **15ä»¶** | âœ… æ‹…å½“è€…ãƒ»pw |
| 4 | **areas** | 9 | 47å› | - | **å…¨ä»¶(9)** | - |
| 5 | **prefectures** | 47 | 40å› | 2022-06 | **å…¨ä»¶(47)** | - |

**ã‚µãƒ–ãƒˆãƒ¼ã‚¿ãƒ«**: 151ä»¶ã€æ¨å®š300KB

#### MySQL (cadm/kanri/dora-pt)

| # | ãƒ†ãƒ¼ãƒ–ãƒ« | è¡Œæ•° | ã‚³ãƒ¼ãƒ‰å‚ç…§ | æœ€çµ‚æ›´æ–° | Fixtureè¡Œæ•° | PII |
|---|---------|------|-----------|---------|------------|-----|
| 6 | **selections** | 58,764 | **225å›** | 2025-12-17 | **50ä»¶** | âœ… å…¨PII |
| 7 | **recruits** | 21,583 | **160å›** | 2025-12-26 | **30ä»¶** | âœ… ä¼æ¥­æƒ…å ± |
| 8 | **effect_reports** | 1.6M | **107å›** | 2025-12-26 | **20ä»¶** | - |
| 9 | **company_informations** | 63,356 | **50å›** | 2025-12-17 | **30ä»¶** | âœ… ä¼æ¥­æƒ…å ± |
| 10 | **recruit_entries** | 75,020 | **20+12+11=43å›** | 2025-12-17 | **30ä»¶** | âœ… å…¨PII |
| 11 | **companies** | 2,082 | æ¨å®š50+ | 2025-12-26 | **15ä»¶** | âœ… æ‹…å½“è€…ãƒ»pw |
| 12 | **information** | 18 | æ¨å®š20+ | 2025-11-11 | **å…¨ä»¶(18)** | - |

**ã‚µãƒ–ãƒˆãƒ¼ã‚¿ãƒ«**: 223ä»¶ã€æ¨å®š400KB

---

### ğŸŸ¡ Phase 2: æ¨å¥¨ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã«å¿…è¦ï¼‰

#### MySQL recruit_* é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«

| # | ãƒ†ãƒ¼ãƒ–ãƒ« | è¡Œæ•° | Fixtureè¡Œæ•° | å‚™è€ƒ |
|---|---------|------|------------|------|
| 13 | recruit_shokushu_items | 40,200 | 10ä»¶ | è·ç¨®é–¢é€£ |
| 14 | recruit_employment_statuses | 38,462 | 10ä»¶ | é›‡ç”¨å½¢æ…‹ |
| 15 | recruit_areas | 33,565 | 10ä»¶ | ã‚¨ãƒªã‚¢é–¢é€£ |
| 16 | recruit_form_types | 75,193 | 10ä»¶ | ãƒ•ã‚©ãƒ¼ãƒ ç¨®åˆ¥ |

**ã‚µãƒ–ãƒˆãƒ¼ã‚¿ãƒ«**: 40ä»¶ã€æ¨å®š80KB

#### MySQL ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«

| # | ãƒ†ãƒ¼ãƒ–ãƒ« | è¡Œæ•° | Fixtureè¡Œæ•° | å‚™è€ƒ |
|---|---------|------|------------|------|
| 17 | users | 174 | 10ä»¶ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ |
| 18 | user_profiles | 130 | 10ä»¶ | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« |
| 19 | user_resumes | 76 | 10ä»¶ | å±¥æ­´æ›¸ |

**ã‚µãƒ–ãƒˆãƒ¼ã‚¿ãƒ«**: 30ä»¶ã€æ¨å®š60KB

---

### ğŸ”´ Phase 3: é™¤å¤–ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆFixtureåŒ–ã—ãªã„ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ« | ç†ç”± |
|---------|------|
| **view_logs** (PG/MySQL) | å·¨å¤§ï¼ˆ58GB + 748MBï¼‰ã€ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ |
| **change_logs** (MySQL) | å·¨å¤§ï¼ˆ40GBï¼‰ã€å¤‰æ›´å±¥æ­´ |
| **effect_report_shokushu_items** (MySQL) | å·¨å¤§ï¼ˆ23GBã€6800ä¸‡è¡Œï¼‰ |
| **oubo_analyzes** (MySQL) | å·¨å¤§ï¼ˆ5GBã€1000ä¸‡è¡Œï¼‰ |
| **send_mails** (PG/MySQL) | å·¨å¤§ï¼ˆåˆè¨ˆ1GBä»¥ä¸Šï¼‰ã€ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ |
| **text_search_logs** (MySQL) | å·¨å¤§ï¼ˆ1.6GBï¼‰ã€æ¤œç´¢ãƒ­ã‚° |
| **entry_logs** (PG) | ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã€ãƒ†ã‚¹ãƒˆã§å‹•çš„ç”Ÿæˆ |
| **use_numbers** (PG) | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€ãƒ†ã‚¹ãƒˆã§å‹•çš„ç”Ÿæˆ |
| **tel_logs** (PG/MySQL) | ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ |
| **login_logs** (MySQL) | ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ |
| **recruits_backup_*** (PG) | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆã‚³ãƒ¼ãƒ‰å‚ç…§0ï¼‰ |
| **view_logs_copy_*** (PG) | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆã‚³ãƒ¼ãƒ‰å‚ç…§0ï¼‰ |
| **cnt_dy_items, cnt_pv_items** (MySQL) | é›†è¨ˆãƒ‡ãƒ¼ã‚¿ã€ãƒ†ã‚¹ãƒˆã§å‹•çš„ç”Ÿæˆ |

---

## Fixtureç·ã‚µã‚¤ã‚ºè¦‹ç©ã‚‚ã‚Š

| Phase | ãƒ†ãƒ¼ãƒ–ãƒ«æ•° | Fixtureè¡Œæ•° | æ¨å®šã‚µã‚¤ã‚º | åˆæœŸåŒ–æ™‚é–“ |
|-------|-----------|------------|-----------|-----------|
| Phase 1 | 12 | 374 | 700 KB | 3-5ç§’ |
| Phase 2 | 7 | 70 | 140 KB | 1-2ç§’ |
| **åˆè¨ˆ** | **19** | **444** | **< 1 MB** | **< 10ç§’** |

**çµè«–**: å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆ150GBï¼‰ã§ã¯ãªãã€ã‚³ã‚¢19ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ<1MBï¼‰ã®ã¿ã§ååˆ†ã€‚

---

## ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã¨ãƒã‚¹ã‚­ãƒ³ã‚°ã®å®Ÿè£…æ–¹é‡

### Step 1: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆåŠ å·¥ä¸è¦ï¼‰

```bash
# PostgreSQL
PGPASSWORD=<.secret> pg_dump \
  -h 127.0.0.1 -p 35432 -U dorauser2022 -d dorapita \
  -t prefectures -t areas -t kodawari_items \
  --data-only --column-inserts \
  > fixtures/pgsql_master.sql

# MySQL
mysqldump \
  -h 127.0.0.1 -P 33306 -u root -p<.secret> \
  dorapita1804_db \
  information \
  --no-create-info --skip-extended-insert \
  > fixtures/mysql_master.sql
```

### Step 2: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ« + ãƒã‚¹ã‚­ãƒ³ã‚°ï¼‰

#### 2-1. PostgreSQL recruitsï¼ˆ30ä»¶æŠ½å‡ºï¼‰

```sql
-- STG DBã‹ã‚‰ç›´æ¥æŠ½å‡º
\copy (
  SELECT
    id,
    'ãƒ†ã‚¹ãƒˆé‹é€æ ªå¼ä¼šç¤¾' || LPAD((ROW_NUMBER() OVER (ORDER BY id))::text, 2, '0') AS c_nm,
    title,
    ms_code,
    pref_nm,
    jobtype_txt,
    employment_type_txt,
    start_day,
    end_day,
    catchcopy,
    '0120-000-' || LPAD((ROW_NUMBER() OVER (ORDER BY id))::text, 3, '0') AS tel_num,
    'test-tanto' || ROW_NUMBER() OVER (ORDER BY id) || '@example.com' AS c_tanto_mails,
    closed,
    deleted
  FROM (
    SELECT *
    FROM recruits
    WHERE closed = false AND deleted = false
    ORDER BY created DESC
    LIMIT 30
  ) sub
) TO '/tmp/recruits_masked.csv' CSV HEADER;
```

#### 2-2. PostgreSQL entriesï¼ˆ50ä»¶æŠ½å‡º + å…¨PIIãƒã‚¹ã‚­ãƒ³ã‚°ï¼‰

```sql
\copy (
  SELECT
    id,
    'ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼' || LPAD((ROW_NUMBER() OVER (ORDER BY id))::text, 3, '0') AS name,
    'ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼' || LPAD((ROW_NUMBER() OVER (ORDER BY id))::text, 3, '0') AS kana,
    '080-0000-' || LPAD((ROW_NUMBER() OVER (ORDER BY id))::text, 4, '0') AS tel,
    'test' || LPAD((ROW_NUMBER() OVER (ORDER BY id))::text, 3, '0') || '@example.com' AS mail,
    '100-0001' AS zip,
    'æ±äº¬éƒ½åƒä»£ç”°åŒº1-1-1' AS address1,
    'ãƒ†ã‚¹ãƒˆãƒ“ãƒ«' || ROW_NUMBER() OVER (ORDER BY id) || 'å·å®¤' AS address2,
    '1990-01-01' AS birthday,
    sex,
    age,
    rcd,
    ms_rcd
  FROM (
    SELECT *
    FROM entries
    ORDER BY created DESC
    LIMIT 50
  ) sub
) TO '/tmp/entries_masked.csv' CSV HEADER;
```

#### 2-3. MySQL selectionsï¼ˆ50ä»¶æŠ½å‡º + å…¨PIIãƒã‚¹ã‚­ãƒ³ã‚°ï¼‰

```sql
SELECT
    id,
    CONCAT('ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼', LPAD(@row_num := @row_num + 1, 3, '0')) AS name,
    CONCAT('ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼', LPAD(@row_num, 3, '0')) AS kana,
    CONCAT('080-0000-', LPAD(@row_num, 4, '0')) AS tel,
    CONCAT('test', LPAD(@row_num, 3, '0'), '@example.com') AS mail,
    '100-0001' AS zip_code,
    'æ±äº¬éƒ½åƒä»£ç”°åŒº1-1-1' AS address,
    CONCAT('ãƒ†ã‚¹ãƒˆãƒ“ãƒ«', @row_num, 'å·å®¤') AS detail_address,
    '1990-01-01' AS birthday,
    gender_id,
    recruit_id,
    company_id,
    selection_status_id,
    created,
    modified
FROM (
    SELECT *, (@row_num := 0) AS dummy
    FROM selections
    ORDER BY created DESC
    LIMIT 50
) AS sub
INTO OUTFILE '/tmp/selections_masked.csv'
FIELDS TERMINATED BY ',' ENCLOSED BY '"'
LINES TERMINATED BY '\n';
```

### Step 3: CSV â†’ CakePHP Fixtureå¤‰æ›

Claude CodeãŒä»¥ä¸‹ã‚’å®Ÿè¡Œ:
1. CSVèª­ã¿è¾¼ã¿
2. PHPé…åˆ—å½¢å¼ã«å¤‰æ›
3. Fixtureãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ

---

## å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Week 1: Phase 1ï¼ˆå¿…é ˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

| Day | ä½œæ¥­å†…å®¹ | æˆæœç‰© |
|-----|---------|--------|
| 1 | PostgreSQLãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æŠ½å‡º | AreasFixture, PrefecturesFixture |
| 2 | PostgreSQL recruits/companiesæŠ½å‡º + ãƒã‚¹ã‚­ãƒ³ã‚° | RecruitsFixture, CompaniesFixture |
| 3 | PostgreSQL entriesæŠ½å‡º + ãƒã‚¹ã‚­ãƒ³ã‚° | EntriesFixture |
| 4 | MySQL selectionsæŠ½å‡º + ãƒã‚¹ã‚­ãƒ³ã‚° | SelectionsFixture (cadm/kanri) |
| 5 | PHPUnitãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª | ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ |

### Week 2: Phase 2ï¼ˆæ¨å¥¨ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

| Day | ä½œæ¥­å†…å®¹ |
|-----|---------|
| 1-2 | MySQL recruit_*_itemsç³»Fixtureç”Ÿæˆ |
| 3-4 | MySQL user_* ç³»Fixtureç”Ÿæˆ |
| 5 | çµ±åˆãƒ†ã‚¹ãƒˆ |

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

Fixtureç”Ÿæˆå‰ã«ä»¥ä¸‹ã‚’ç¢ºèª:

- [ ] `.secret` ãƒ•ã‚¡ã‚¤ãƒ«ãŒgitç®¡ç†å¯¾è±¡å¤–ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ`.gitignore`ï¼‰
- [ ] Fixtureãƒ•ã‚¡ã‚¤ãƒ«ã«æœ¬ç•ªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª
- [ ] PIIï¼ˆæ°åã€é›»è©±ã€ãƒ¡ãƒ¼ãƒ«ã€ä½æ‰€ã€ç”Ÿå¹´æœˆæ—¥ï¼‰ãŒå®Œå…¨ã«ãƒã‚¹ã‚­ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] `companies.pw` ã‚«ãƒ©ãƒ ãŒå‰Šé™¤ã¾ãŸã¯å›ºå®šå€¤ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] Fixtureãƒ•ã‚¡ã‚¤ãƒ«ã‚’privateãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã€ã¾ãŸã¯ `.gitignore` ã«è¿½åŠ 

---

## æœ€çµ‚æ¨å¥¨: FixtureåŒ–ãƒ†ãƒ¼ãƒ–ãƒ«ãƒªã‚¹ãƒˆ

### PostgreSQL (dorapita.com) - 5ãƒ†ãƒ¼ãƒ–ãƒ«

| # | ãƒ†ãƒ¼ãƒ–ãƒ« | STGè¡Œæ•° | Fixtureè¡Œæ•° | ç†ç”± |
|---|---------|---------|------------|------|
| 1 | prefectures | 47 | å…¨ä»¶(47) | éƒ½é“åºœçœŒãƒã‚¹ã‚¿ã€å¤–éƒ¨ã‚­ãƒ¼å‚ç…§å¤šæ•° |
| 2 | areas | 9 | å…¨ä»¶(9) | ã‚¨ãƒªã‚¢ãƒã‚¹ã‚¿ã€å¤–éƒ¨ã‚­ãƒ¼å‚ç…§ |
| 3 | recruits | 19,487 | 30 | ã‚³ãƒ¼ãƒ‰å‚ç…§194å›ã€ã‚³ã‚¢æ©Ÿèƒ½ |
| 4 | companies | 2,425 | 15 | ã‚³ãƒ¼ãƒ‰å‚ç…§53å›ã€ã‚³ã‚¢æ©Ÿèƒ½ |
| 5 | entries | 47,842 | 50 | ã‚³ãƒ¼ãƒ‰å‚ç…§75å›ã€å¿œå‹Ÿæ©Ÿèƒ½ |

**åˆè¨ˆ**: 151ä»¶ã€æ¨å®š300KB

---

### MySQL (cadm/kanri/dora-pt) - 10ãƒ†ãƒ¼ãƒ–ãƒ«

| # | ãƒ†ãƒ¼ãƒ–ãƒ« | STGè¡Œæ•° | Fixtureè¡Œæ•° | ã‚¢ãƒ—ãƒª | ç†ç”± |
|---|---------|---------|------------|-------|------|
| 1 | information | 18 | å…¨ä»¶(18) | å…¨ä½“ | ãŠçŸ¥ã‚‰ã›ãƒã‚¹ã‚¿ |
| 2 | companies | 2,082 | 15 | cadm/kanri | ä¼æ¥­ãƒã‚¹ã‚¿ |
| 3 | recruits | 21,583 | 30 | cadm/kanri/dora-pt | ã‚³ãƒ¼ãƒ‰å‚ç…§160å› |
| 4 | selections | 58,764 | 50 | cadm/kanri/dora-pt | ã‚³ãƒ¼ãƒ‰å‚ç…§225å› |
| 5 | recruit_entries | 75,020 | 30 | cadm/kanri/dora-pt | å¿œå‹Ÿãƒ‡ãƒ¼ã‚¿ |
| 6 | company_informations | 63,356 | 30 | cadmä¸»ä½“ | ã‚³ãƒ¼ãƒ‰å‚ç…§50å› |
| 7 | recruit_shokushu_items | 40,200 | 10 | å…¨ä½“ | è·ç¨®é–¢é€£ |
| 8 | recruit_employment_statuses | 38,462 | 10 | å…¨ä½“ | é›‡ç”¨å½¢æ…‹ |
| 9 | recruit_areas | 33,565 | 10 | å…¨ä½“ | ã‚¨ãƒªã‚¢é–¢é€£ |
| 10 | recruit_form_types | 75,193 | 10 | å…¨ä½“ | ãƒ•ã‚©ãƒ¼ãƒ ç¨®åˆ¥ |

**åˆè¨ˆ**: 213ä»¶ã€æ¨å®š450KB

---

### ã‚°ãƒ©ãƒ³ãƒ‰ãƒˆãƒ¼ã‚¿ãƒ«

| DB | ãƒ†ãƒ¼ãƒ–ãƒ«æ•° | Fixtureè¡Œæ•° | æ¨å®šã‚µã‚¤ã‚º |
|----|-----------|------------|-----------|
| PostgreSQL | 5 | 151 | 300 KB |
| MySQL | 10 | 213 | 450 KB |
| **åˆè¨ˆ** | **15** | **364** | **< 1 MB** |

---

## ãƒ‡ãƒ¼ã‚¿ç‰¹æ€§ãƒãƒˆãƒªã‚¯ã‚¹

### PostgreSQL

| ãƒ†ãƒ¼ãƒ–ãƒ« | ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | PII | ãƒã‚¹ã‚­ãƒ³ã‚°æˆ¦ç•¥ | Truncate |
|---------|-----------|-----|----------------|---------|
| prefectures | ãƒã‚¹ã‚¿ãƒ¼ | - | ä¸è¦ | ãªã—ï¼ˆå…¨ä»¶ï¼‰ |
| areas | ãƒã‚¹ã‚¿ãƒ¼ | - | ä¸è¦ | ãªã—ï¼ˆå…¨ä»¶ï¼‰ |
| recruits | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | ä¼æ¥­é€£çµ¡å…ˆ | é›»è©±ãƒ»ãƒ¡ãƒ¼ãƒ« | LIMIT 30 |
| companies | ãƒã‚¹ã‚¿ãƒ¼ | æ‹…å½“è€…ãƒ»pw | æ‹…å½“è€…æƒ…å ±ãƒ»pwå‰Šé™¤ | LIMIT 15 |
| entries | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | **å…¨PII** | æ°åãƒ»é›»è©±ãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»ä½æ‰€ãƒ»ç”Ÿå¹´æœˆæ—¥ | LIMIT 50 |

### MySQL

| ãƒ†ãƒ¼ãƒ–ãƒ« | ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | PII | ãƒã‚¹ã‚­ãƒ³ã‚°æˆ¦ç•¥ | Truncate |
|---------|-----------|-----|----------------|---------|
| information | ãƒã‚¹ã‚¿ãƒ¼ | - | ä¸è¦ | ãªã—ï¼ˆå…¨ä»¶ï¼‰ |
| companies | ãƒã‚¹ã‚¿ãƒ¼ | æ‹…å½“è€…ãƒ»pw | æ‹…å½“è€…æƒ…å ±ãƒ»pwå‰Šé™¤ | LIMIT 15 |
| recruits | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | ä¼æ¥­é€£çµ¡å…ˆ | é›»è©±ãƒ»ãƒ¡ãƒ¼ãƒ« | LIMIT 30 |
| selections | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | **å…¨PII** | æ°åãƒ»é›»è©±ãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»ä½æ‰€ãƒ»ç”Ÿå¹´æœˆæ—¥ | LIMIT 50 |
| recruit_entries | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | **å…¨PII** | æ°åãƒ»é›»è©±ãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»ä½æ‰€ãƒ»ç”Ÿå¹´æœˆæ—¥ | LIMIT 30 |
| company_informations | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | ä¼æ¥­æƒ…å ± | ä¸€éƒ¨ãƒã‚¹ã‚­ãƒ³ã‚° | LIMIT 30 |
| recruit_*_items | é–¢é€£ | - | ä¸è¦ | LIMIT 10 each |

---

## é™¤å¤–ãƒ‡ãƒ¼ã‚¿ã®ä»£æ›¿æ¡ˆ

### ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ‰±ã„

| ãƒ†ãƒ¼ãƒ–ãƒ« | ãƒ†ã‚¹ãƒˆæ–¹æ³• |
|---------|-----------|
| view_logs | E2Eãƒ†ã‚¹ãƒˆã§å‹•çš„ç”Ÿæˆï¼ˆPlaywrightã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«è‡ªå‹•è¨˜éŒ²ï¼‰ |
| send_mails | ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å†…ã§ãƒ¢ãƒƒã‚¯ç”Ÿæˆ |
| change_logs | ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å†…ã§ãƒ¢ãƒƒã‚¯ç”Ÿæˆ |
| entry_logs | å¿œå‹Ÿãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«è‡ªå‹•ç”Ÿæˆ |

### é›†è¨ˆãƒ†ãƒ¼ãƒ–ãƒ«ã®æ‰±ã„

| ãƒ†ãƒ¼ãƒ–ãƒ« | ãƒ†ã‚¹ãƒˆæ–¹æ³• |
|---------|-----------|
| effect_reports | ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å†…ã§æœ€å°é™ã®ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ |
| oubo_analyzes | ãƒãƒƒãƒå‡¦ç†ãƒ†ã‚¹ãƒˆã§å‹•çš„ç”Ÿæˆ |
| cnt_*_items | é›†è¨ˆãƒãƒƒãƒã®ãƒ†ã‚¹ãƒˆã§å‹•çš„ç”Ÿæˆ |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### Immediateï¼ˆä»Šã™ãï¼‰

1. **Fixtureç”Ÿæˆãƒ„ãƒ¼ãƒ«é¸æŠ**
   - Option A: æ‰‹å‹•SQL + CSV + å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
   - Option B: CakePHP bake shellæ‹¡å¼µ
   - Option C: Claude Codeè‡ªå‹•ç”Ÿæˆ

2. **PIIãƒã‚¹ã‚­ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…**
   - æ°åãƒ»é›»è©±ãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»ä½æ‰€ã®ãƒã‚¹ã‚­ãƒ³ã‚°é–¢æ•°
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå…ƒãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ãªã„ã‹ç¢ºèªï¼‰

### Short-termï¼ˆ1é€±é–“ï¼‰

3. **Phase 1 Fixtureç”Ÿæˆ**ï¼ˆ5ãƒ†ãƒ¼ãƒ–ãƒ« Ã— PG + 10ãƒ†ãƒ¼ãƒ–ãƒ« Ã— MySQLï¼‰
4. **PHPUnitå®Ÿè¡Œãƒ†ã‚¹ãƒˆ**
5. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–**ï¼ˆFixtureä½¿ç”¨æ–¹æ³•ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ–¹é‡ï¼‰

---

## å‚è€ƒ: ã‚³ãƒ¼ãƒ‰å‚ç…§é »åº¦Top 10

### PostgreSQL (dorapita.com)

| ãƒ†ãƒ¼ãƒ–ãƒ« | å‚ç…§å›æ•° |
|---------|---------|
| recruits | **194** |
| entries | 75 |
| companies | 53 |
| areas | 47 |
| prefectures | 40 |
| view_logs | 12 |
| redirects | 6 |
| send_mails | 3 |
| system_mails | 2 |
| entry_logs | 1 |

### MySQL (åˆè¨ˆ)

| ãƒ†ãƒ¼ãƒ–ãƒ« | cadm | kanri | dora-pt | **åˆè¨ˆ** |
|---------|------|-------|---------|---------|
| selections | 77 | 114 | 34 | **225** |
| recruits | 62 | 49 | 49 | **160** |
| effect_reports | 47 | 52 | 8 | **107** |
| company_informations | 50 | 2 | 5 | **57** |
| recruit_entries | 20 | 12 | 11 | **43** |
| recruit_shokushu_items | 18 | 12 | 15 | **45** |
| recruit_employment_statuses | 5 | 7 | 17 | **29** |

---

## çµè«–

**å…¨STGãƒ‡ãƒ¼ã‚¿ï¼ˆ150GBï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã®ã¯éç¾å®Ÿçš„ã€‚**

**æ¨å¥¨**: ã‚³ã‚¢15ãƒ†ãƒ¼ãƒ–ãƒ«ã€364è¡Œã€< 1MBã®ãƒŸãƒ‹ãƒãƒ«Fixtureã§ååˆ†ãªé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’æ§‹ç¯‰å¯èƒ½ã€‚

---

**Document version**: 1.0
**Last updated**: 2025-12-26
**Author**: Claude Code
